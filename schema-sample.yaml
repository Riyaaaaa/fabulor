# ブロックタイプ定義ファイル
# このファイルでブロックのタイプとパラメータを定義できます

# カスタム構造体定義
# ブロックのパラメータのtypeとして使用できる新しい型を定義
structs:
  character_info:
    properties:
      name:
        type: string
        label: "キャラクター名"
        required: true
      age:
        type: integer
        label: "年齢"
        min: 0
        max: 200
      category:
        type: string
        label: "カテゴリ"
        default: "main"
  
  effect_settings:
    properties:
      type:
        type: string
        label: "エフェクトタイプ"
        required: true
      duration:
        type: number
        label: "継続時間"
        min: 0.1
        step: 0.1
        default: 1.0
      intensity:
        type: integer
        label: "強度"
        min: 1
        max: 10
        default: 5
  
  position_data:
    properties:
      x:
        type: number
        label: "X座標"
        default: 0
      y:
        type: number
        label: "Y座標"
        default: 0
      z:
        type: number
        label: "Z座標"
        default: 0

block_types:
  dialogue:
    label: "セリフ"
    description: "キャラクターの台詞"
    requires_text: true
    parameters:
      speaker:
        type: "text"
        label: "話者"
        placeholder: "キャラクター名"
        default: ""
        required: false
      emotion:
        type: "select"
        label: "感情"
        default: ""
        required: false
        options:
          - value: ""
            label: "なし"
          - value: "happy"
            label: "喜び"
          - value: "sad"
            label: "悲しみ"
          - value: "angry"
            label: "怒り"
          - value: "surprised"
            label: "驚き"
          - value: "calm"
            label: "冷静"
          - value: "excited"
            label: "興奮"
    
  narrative:
    label: "地の文"
    description: "小説の地の文・説明文"
    requires_text: true
    parameters: {}
    
  command:
    label: "コマンド"
    description: "シナリオスクリプトの演出効果"
    requires_text: false
    parameters:
      commandType:
        type: "select"
        label: "コマンドタイプ"
        default: "screen"
        required: true
        options:
          - value: "screen"
            label: "画面演出"
          - value: "sound"
            label: "音響効果"
          - value: "transition"
            label: "画面転換"
          - value: "wait"
            label: "待機"
          - value: "system"
            label: "システム"
          - value: "custom"
            label: "カスタム"
      effect:
        type: "select"
        label: "効果"
        default: "shake"
        required: true
        options:
          - value: "shake"
            label: "画面揺れ"
          - value: "flash"
            label: "フラッシュ"
          - value: "fade"
            label: "フェード"
          - value: "zoom"
            label: "ズーム"
          - value: "blur"
            label: "ブラー"
          - value: "none"
            label: "なし"
      intensity:
        type: "select"
        label: "強度"
        default: "normal"
        required: true
        options:
          - value: "weak"
            label: "弱"
          - value: "normal"
            label: "中"
          - value: "strong"
            label: "強"
      duration:
        type: "number"
        label: "継続時間"
        placeholder: "秒数"
        default: 1.0
        required: true
        min: 0
        step: 0.1

  # カスタム構造体を使用するブロックタイプの例
  advanced_command:
    label: "高度なコマンド"
    description: "構造体を使用する高度なコマンド"
    requires_text: false
    parameters:
      character:
        type: "character_info"  # structs で定義した型を使用
        label: "キャラクター情報"
        required: true
      effect:
        type: "effect_settings"  # structs で定義した型を使用
        label: "エフェクト設定"
        required: false
      position:
        type: "position_data"  # structs で定義した型を使用
        label: "位置データ"
        required: false